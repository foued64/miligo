DROP SCHEMA IF EXISTS MILIGO;
CREATE SCHEMA MILIGO;
USE MILIGO;
SHOW TABLES;


CREATE TABLE `ADRESSE` (
  `ID` varchar(24) NOT NULL,
  `NUMERO` varchar(255) DEFAULT NULL,
  `VOIE` varchar(255) DEFAULT NULL,
  `ID_VILLE` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contenu de la table `ADRESSE`
--

INSERT INTO `ADRESSE` (`ID`, `NUMERO`, `VOIE`, `ID_VILLE`) VALUES
('Bx8DjlDmEeexFAAAsvkz1Q', '01', 'ricard', 'Bx8faFDmEeexFAAAsvkz1Q'),
('Ka40SFDlEeexFAAAsvkz1Q', '8', 'impasse Cesaire', 'Ka4yNlDlEeexFAAAsvkz1Q');


-- --------------------------------------------------------

--
-- Table structure for table `CONFIGURATION`
--

CREATE TABLE `CONFIGURATION_BORNE` (
  `ID` varchar(24) NOT NULL,
  `DISTANCE_MAX` int(11) DEFAULT '16',
  `DISTANCE_MIN` int(11) DEFAULT '8',
  `SEUIL_RECHARGEMENT` int(11) DEFAULT '50',
  `TEMPS_CHARGE` time DEFAULT '01:00:00:'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contenu de la table `BORNE`
--

INSERT INTO `CONFIGURATION_BORNE`(`ID`, `DISTANCE_MAX`, `DISTANCE_MIN`, `SEUIL_RECHARGEMENT`, `TEMPS_CHARGE`) VALUES
('gi0imlDmEeexFAAAsvazer', 16, 8, 50, '01:00:00'),
('gi0imlDmEeexFAAAsqsdf', 16, 8, 50, '01:00:00');

-- --------------------------------------------------------

--
-- Structure de la table `BORNE`
--

CREATE TABLE `BORNE` (
  `ID` varchar(24) NOT NULL,
  `ADRESSE_IP` varchar(255) DEFAULT NULL,
  `LATITUDE` varchar(255) DEFAULT NULL,
  `LONGITUDE` varchar(255) DEFAULT NULL,
  `NOM_BORNE` varchar(255) NOT NULL,
  `ID_SITE` varchar(24) NOT NULL,
  `ID_CONFIGURATION_BORNE` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contenu de la table `BORNE`
--

INSERT INTO `BORNE` (`ID`, `ADRESSE_IP`, `LATITUDE`, `LONGITUDE`, `NOM_BORNE`, `ID_SITE`, `ID_CONFIGURATION_BORNE`) VALUES
('gi0imlDmEeexFAAAsvkz1Q', '51.51.51.51', '44G', '15CM', 'Borne 2', 'Ka42MlDlEeexFAAAsvkz1Q','gi0imlDmEeexFAAAsvazer'),
('ZaUGxFDmEeexFAAAsvkz1Q', '221.01.02.03', '01N.O', '58.F', 'Borne 1', 'Bx8o8FDmEeexFAAAsvkz1Q','gi0imlDmEeexFAAAsqsdf');

-- --------------------------------------------------------

--
-- Structure de la table `CLIENT`
--

CREATE TABLE `CLIENT` (
  `ID` varchar(24) NOT NULL,
  `ADRESSE_MAIL` varchar(255) NOT NULL,
  `MILIPOINTS` int(11) DEFAULT '0',
  `NOM` varchar(255) NOT NULL,
  `PRENOM` varchar(255) NOT NULL,
  `ID_GSBDD` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contenu de la table `CLIENT`
--

INSERT INTO `CLIENT` (`ID`, `ADRESSE_MAIL`, `MILIPOINTS`, `NOM`, `PRENOM`, `ID_GSBDD`) VALUES
('5OXOSFDkEeexFAAAsvkz1Q', 'sebastien.tete@intradef.gouv.fr', 20000, 'TETE', 'Seb', 'Ka4tQFDlEeexFAAAsvkz1Q');

-- --------------------------------------------------------

--
-- Structure de la table `EMPRUNT_IMMEDIAT`
--

CREATE TABLE `EMPRUNT_IMMEDIAT` (
  `ID` varchar(24) NOT NULL,
  `GDH_DEPART` datetime NOT NULL,
  `GDH_RETOUR_PREVU` datetime DEFAULT NULL,
  `GDH_RETOUR_REEL` datetime DEFAULT NULL,
  `SATISFACTION` int(1) DEFAULT NULL,
  `ID_CLIENT` varchar(24) NOT NULL,
  `ID_TRAJET` varchar(24) NOT NULL,
  `ID_VEHICULE` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `EMPRUNT_RESERVATION`
--

CREATE TABLE `EMPRUNT_RESERVATION` (
  `ID` varchar(24) NOT NULL,
  `GDH_RETOUR_REEL` datetime DEFAULT NULL,
  `SATISFACTION` int(1) DEFAULT NULL,
  `ID_VEHICULE` varchar(24) DEFAULT NULL,
  `ID_RESERVATION` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `ENTRETIEN`
--

CREATE TABLE `ENTRETIEN` (
  `ID` varchar(24) NOT NULL,
  `DATE_ENTRETIEN_DEBUT` datetime NOT NULL,
  `DATE_ENTRETIEN_FIN` datetime,
  `LIBELLE` varchar(255) DEFAULT NULL,
  `ID_VEHICULE` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `ENTRETIEN_MAINTENANCE`
--

CREATE TABLE `ENTRETIEN_MAINTENANCE` (
  `Entretien_ID` varchar(24) NOT NULL,
  `listeMaintenance_ID` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `GSBDD`
--

CREATE TABLE `GSBDD` (
  `ID` varchar(24) NOT NULL,
  `LIBELLE_GSBDD` varchar(255) NOT NULL,
  `NUMERO_CREDO` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contenu de la table `GSBDD`
--

INSERT INTO `GSBDD` (`ID`, `LIBELLE_GSBDD`, `NUMERO_CREDO`) VALUES
('Ka4tQFDlEeexFAAAsvkz1Q', 'RENNES', 'ETTRS');

-- --------------------------------------------------------

--
-- Structure de la table `INCIDENT`
--

CREATE TABLE `INCIDENT` (
  `ID` varchar(24) NOT NULL,
  `DATE_INCIDENT` datetime NOT NULL,
  `DESCRIPTION_INCIDENT` longtext NOT NULL,
  `ID_CLIENT` varchar(24) NOT NULL,
  `ID_VEHICULE` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `MAINTENANCE`
--

CREATE TABLE `MAINTENANCE` (
  `ID` varchar(24) NOT NULL,
  `LIBELLE_MAINTENANCE` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `MARQUE`
--

CREATE TABLE `MARQUE` (
  `ID` varchar(24) NOT NULL,
  `LIBELLE_MARQUE` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contenu de la table `MARQUE`
--

INSERT INTO `MARQUE` (`ID`, `LIBELLE_MARQUE`) VALUES
('HwN3rlDxEeexFAAAsvkz1Q', 'RENAULT'),
('HwOARlDxEeexFAAAsvkz1Q', 'VELO');

-- --------------------------------------------------------

--
-- Structure de la table `MODELE`
--

CREATE TABLE `MODELE` (
  `ID` varchar(24) NOT NULL,
  `LIBELLE_MODELE` varchar(255) NOT NULL,
  `ID_MARQUE` varchar(24) NOT NULL,
  `ID_TYPE_VEHICULE` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contenu de la table `MODELE`
--

INSERT INTO `MODELE` (`ID`, `LIBELLE_MODELE`, `ID_MARQUE`, `ID_TYPE_VEHICULE`) VALUES
('YbF03lDxEeexFAAAsvkz1Q', 'BitWin', 'HwOARlDxEeexFAAAsvkz1Q', 'YbFvSFDxEeexFAAAsvkz1Q'),
('YbFy9FDxEeexFAAAsvkz1Q', 'ZOE', 'HwN3rlDxEeexFAAAsvkz1Q', 'HwOLfFDxEeexFAAAsvkz1Q');

-- --------------------------------------------------------

--
-- Structure de la table `PERMISSION`
--

CREATE TABLE `PERMISSION` (
  `ID` varchar(24) NOT NULL,
  `NOM` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `RESERVATION`
--

CREATE TABLE `RESERVATION` (
  `ID` varchar(24) NOT NULL,
  `DATE_RESERVATION` date NOT NULL,
  `ETAT` varchar(255) DEFAULT NULL,
  `NUMERO_RESERVATION` varchar(255) NOT NULL,
  `ID_CONDUCTEUR` varchar(24) NOT NULL,
  `ID_DEMANDEUR` varchar(24) NOT NULL,
  `ID_EMPRUNT_RESERVATION` varchar(24) DEFAULT NULL,
  `ID_TRAJET` varchar(24) NOT NULL,
  `ID_TYPE_VEHICULE` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `ROLE`
--

CREATE TABLE `ROLE` (
  `ID` varchar(24) NOT NULL,
  `NOM` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `ROLE_PERMISSION`
--

CREATE TABLE `ROLE_PERMISSION` (
  `ROLE_ID` varchar(24) NOT NULL,
  `PERMISSION_ID` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `SITE`
--

CREATE TABLE `SITE` (
  `ID` varchar(24) NOT NULL,
  `NOM_SITE` varchar(255) NOT NULL,
  `ID_ADRESSE` varchar(24) DEFAULT NULL,
  `ID_GSBDD` varchar(24) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contenu de la table `SITE`
--

INSERT INTO `SITE` (`ID`, `NOM_SITE`, `ID_ADRESSE`, `ID_GSBDD`) VALUES
('Bx8o8FDmEeexFAAAsvkz1Q', 'TrueVille', 'Bx8DjlDmEeexFAAAsvkz1Q', 'Ka4tQFDlEeexFAAAsvkz1Q'),
('Ka42MlDlEeexFAAAsvkz1Q', 'Cesson', 'Ka40SFDlEeexFAAAsvkz1Q', 'Ka4tQFDlEeexFAAAsvkz1Q');

-- --------------------------------------------------------

--
-- Structure de la table `TRAJET`
--

CREATE TABLE `TRAJET` (
  `ID` varchar(24) NOT NULL,
  `INDICE_CARBONE` int(11) DEFAULT NULL,
  `LONGUEUR_TRAJET` double DEFAULT NULL,
  `ID_BORNE_ARRIVEE` varchar(24) NOT NULL,
  `ID_BORNE_DEPART` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contenu de la table `TRAJET`
--

INSERT INTO `TRAJET` (`ID`, `INDICE_CARBONE`, `LONGUEUR_TRAJET`, `ID_BORNE_ARRIVEE`, `ID_BORNE_DEPART`) VALUES
('IMxoiFDyEeexFAAAsvkz1Q', 250, 25, 'gi0imlDmEeexFAAAsvkz1Q', 'ZaUGxFDmEeexFAAAsvkz1Q');

INSERT INTO `TRAJET` (`ID`, `INDICE_CARBONE`, `LONGUEUR_TRAJET`, `ID_BORNE_ARRIVEE`, `ID_BORNE_DEPART`) VALUES
('IMxoiFDyEeexFAAAsvkz1P', 250, 25, 'ZaUGxFDmEeexFAAAsvkz1Q', 'gi0imlDmEeexFAAAsvkz1Q');

INSERT INTO `TRAJET` (`ID`, `INDICE_CARBONE`, `LONGUEUR_TRAJET`, `ID_BORNE_ARRIVEE`, `ID_BORNE_DEPART`) VALUES
('IMxoiFDyEeexFAAAsvkz2P', 0, 0, 'ZaUGxFDmEeexFAAAsvkz1Q', 'ZaUGxFDmEeexFAAAsvkz1Q');

INSERT INTO `TRAJET` (`ID`, `INDICE_CARBONE`, `LONGUEUR_TRAJET`, `ID_BORNE_ARRIVEE`, `ID_BORNE_DEPART`) VALUES
('IMxoiFDyEeexFAAAsvkz3P', 0, 0, 'gi0imlDmEeexFAAAsvkz1Q', 'gi0imlDmEeexFAAAsvkz1Q');

-- --------------------------------------------------------

--
-- Structure de la table `TYPE_VEHICULE`
--

CREATE TABLE `TYPE_VEHICULE` (
  `ID` varchar(24) NOT NULL,
  `LIBELLE_TYPE_VEHICULE` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contenu de la table `TYPE_VEHICULE`
--

INSERT INTO `TYPE_VEHICULE` (`ID`, `LIBELLE_TYPE_VEHICULE`) VALUES
('HwOLfFDxEeexFAAAsvkz1Q', 'VE'),
('YbFvSFDxEeexFAAAsvkz1Q', 'VAE');

-- --------------------------------------------------------

--
-- Structure de la table `UTILISATEUR`
--

CREATE TABLE `UTILISATEUR` (
  `ID` varchar(24) NOT NULL,
  `EMAIL` varchar(255) NOT NULL,
  `IDENTIFIANT` varchar(255) NOT NULL,
  `MOTDEPASSEHASHE` varchar(255) NOT NULL,
  `NOM` varchar(255) NOT NULL,
  `PRENOM` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `UTILISATEUR_ROLE`
--

CREATE TABLE `UTILISATEUR_ROLE` (
  `UTILISATEUR_ID` varchar(24) NOT NULL,
  `ROLE_ID` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `VEHICULE`
--

CREATE TABLE `VEHICULE` (
  `ID` varchar(24) NOT NULL,
  `DATE_MISE_EN_CIRCULATION` datetime DEFAULT NULL,
  `IMMATRICULATION_VEHICULE` varchar(255) NOT NULL,
  `KILOMETRAGE` int(11) DEFAULT NULL,
  `LIBELLE_VEHICULE` varchar(255) NOT NULL,
  `NIVEAU_BATTERIE` int(11) DEFAULT NULL,
  `PUISSANCE` varchar(255) DEFAULT NULL,
  `ID_BORNE` varchar(24) DEFAULT NULL,
  `DISPONIBILITE` varchar(255) DEFAULT NULL,
  `ID_MODELE` varchar(24) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contenu de la table `VEHICULE`
--

INSERT INTO `VEHICULE` (`ID`, `DATE_MISE_EN_CIRCULATION`, `IMMATRICULATION_VEHICULE`, `KILOMETRAGE`, `LIBELLE_VEHICULE`, `NIVEAU_BATTERIE`, `PUISSANCE`, `ID_BORNE`, `DISPONIBILITE`, `ID_MODELE`) VALUES
('Cg4+ElENEeexFAAAsvkz1Q', '2017-05-04 00:00:00', 'VV-404-PP', 100, 'Velo 1', 100, '10', 'ZaUGxFDmEeexFAAAsvkz1Q', 'DISPONIBLE', 'YbF03lDxEeexFAAAsvkz1Q'),
('IMxmElDyEeexFAAAsvkz1Q', '2017-06-01 00:00:00', 'AZ-200-MY', 2550, 'Véhicule 2', 100, '112', 'gi0imlDmEeexFAAAsvkz1Q', 'DISPONIBLE', 'YbFy9FDxEeexFAAAsvkz1Q'),
('YbF8QFDxEeexFAAAsvkz1Q', '2017-06-04 06:29:42', 'AQ-771-PD', 5000, 'Véhicule 1', 80, '112', 'gi0imlDmEeexFAAAsvkz1Q', 'DISPONIBLE', 'YbFy9FDxEeexFAAAsvkz1Q');

-- --------------------------------------------------------

--
-- Structure de la table `VILLE`
--

CREATE TABLE `VILLE` (
  `ID` varchar(24) NOT NULL,
  `CODE_POSTAL` varchar(255) DEFAULT NULL,
  `VILLE` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contenu de la table `VILLE`
--

INSERT INTO `VILLE` (`ID`, `CODE_POSTAL`, `VILLE`) VALUES
('Bx8faFDmEeexFAAAsvkz1Q', '40000', 'MONT DE MARSAN'),
('Ka4yNlDlEeexFAAAsvkz1Q', '35000', 'RENNES');

--
-- Index pour les tables exportées
--

--
-- Index pour la table `ADRESSE`
--
ALTER TABLE `ADRESSE`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `FK_ADRESSE_ID_VILLE` (`ID_VILLE`);

--
-- Index pour la table `BORNE`
--
ALTER TABLE `BORNE`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `FK_BORNE_ID_SITE` (`ID_SITE`);

--
-- Index pour la table `CLIENT`
--
ALTER TABLE `CLIENT`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `FK_CLIENT_ID_GSBDD` (`ID_GSBDD`);


--
-- Index pour la table `EMPRUNT_IMMEDIAT`
--
ALTER TABLE `EMPRUNT_IMMEDIAT`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `FK_EMPRUNT_IMMEDIAT_ID_CLIENT` (`ID_CLIENT`),
  ADD KEY `FK_EMPRUNT_IMMEDIAT_ID_VEHICULE` (`ID_VEHICULE`),
  ADD KEY `FK_EMPRUNT_IMMEDIAT_ID_TRAJET` (`ID_TRAJET`);

--
-- Index pour la table `EMPRUNT_RESERVATION`
--
ALTER TABLE `EMPRUNT_RESERVATION`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `FK_EMPRUNT_RESERVATION_ID_RESERVATION` (`ID_RESERVATION`),
  ADD KEY `FK_EMPRUNT_RESERVATION_ID_VEHICULE` (`ID_VEHICULE`);

--
-- Index pour la table `ENTRETIEN`
--
ALTER TABLE `ENTRETIEN`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `FK_ENTRETIEN_ID_VEHICULE` (`ID_VEHICULE`);

--
-- Index pour la table `ENTRETIEN_MAINTENANCE`
--
ALTER TABLE `ENTRETIEN_MAINTENANCE`
  ADD PRIMARY KEY (`Entretien_ID`,`listeMaintenance_ID`),
  ADD KEY `FK_ENTRETIEN_MAINTENANCE_listeMaintenance_ID` (`listeMaintenance_ID`);

--
-- Index pour la table `GSBDD`
--
ALTER TABLE `GSBDD`
  ADD PRIMARY KEY (`ID`);

--
-- Index pour la table `INCIDENT`
--
ALTER TABLE `INCIDENT`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `FK_INCIDENT_ID_CLIENT` (`ID_CLIENT`),
  ADD KEY `FK_INCIDENT_ID_VEHICULE` (`ID_VEHICULE`);

--
-- Index pour la table `MAINTENANCE`
--
ALTER TABLE `MAINTENANCE`
  ADD PRIMARY KEY (`ID`);

--
-- Index pour la table `MARQUE`
--
ALTER TABLE `MARQUE`
  ADD PRIMARY KEY (`ID`);

--
-- Index pour la table `MODELE`
--
ALTER TABLE `MODELE`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `FK_MODELE_ID_TYPE_VEHICULE` (`ID_TYPE_VEHICULE`),
  ADD KEY `FK_MODELE_ID_MARQUE` (`ID_MARQUE`);

--
-- Index pour la table `PERMISSION`
--
ALTER TABLE `PERMISSION`
  ADD PRIMARY KEY (`ID`);

--
-- Index pour la table `RESERVATION`
--
ALTER TABLE `RESERVATION`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `FK_RESERVATION_ID_CONDUCTEUR` (`ID_CONDUCTEUR`),
  ADD KEY `FK_RESERVATION_ID_TYPE_VEHICULE` (`ID_TYPE_VEHICULE`),
  ADD KEY `FK_RESERVATION_ID_EMPRUNT_RESERVATION` (`ID_EMPRUNT_RESERVATION`),
  ADD KEY `FK_RESERVATION_ID_TRAJET` (`ID_TRAJET`),
  ADD KEY `FK_RESERVATION_ID_DEMANDEUR` (`ID_DEMANDEUR`);

--
-- Index pour la table `ROLE`
--
ALTER TABLE `ROLE`
  ADD PRIMARY KEY (`ID`);

--
-- Index pour la table `ROLE_PERMISSION`
--
ALTER TABLE `ROLE_PERMISSION`
  ADD PRIMARY KEY (`ROLE_ID`,`PERMISSION_ID`),
  ADD KEY `FK_ROLE_PERMISSION_PERMISSION_ID` (`PERMISSION_ID`);

--
-- Index pour la table `SITE`
--
ALTER TABLE `SITE`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `FK_SITE_ID_GSBDD` (`ID_GSBDD`),
  ADD KEY `FK_SITE_ID_ADRESSE` (`ID_ADRESSE`);

--
-- Index pour la table `TRAJET`
--
ALTER TABLE `TRAJET`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `FK_TRAJET_ID_BORNE_DEPART` (`ID_BORNE_DEPART`),
  ADD KEY `FK_TRAJET_ID_BORNE_ARRIVEE` (`ID_BORNE_ARRIVEE`);

--
-- Index pour la table `TYPE_VEHICULE`
--
ALTER TABLE `TYPE_VEHICULE`
  ADD PRIMARY KEY (`ID`);

--
-- Index pour la table `UTILISATEUR`
--
ALTER TABLE `UTILISATEUR`
  ADD PRIMARY KEY (`ID`),
  ADD UNIQUE KEY `IDENTIFIANT` (`IDENTIFIANT`);

--
-- Index pour la table `UTILISATEUR_ROLE`
--
ALTER TABLE `UTILISATEUR_ROLE`
  ADD PRIMARY KEY (`UTILISATEUR_ID`,`ROLE_ID`),
  ADD KEY `FK_UTILISATEUR_ROLE_ROLE_ID` (`ROLE_ID`);

--
-- Index pour la table `VEHICULE`
--
ALTER TABLE `VEHICULE`
  ADD PRIMARY KEY (`ID`),
  ADD KEY `FK_VEHICULE_ID_BORNE` (`ID_BORNE`),
  ADD KEY `FK_VEHICULE_ID_MODELE` (`ID_MODELE`);

--
-- Index pour la table `VILLE`
--
ALTER TABLE `VILLE`
  ADD PRIMARY KEY (`ID`);

--
-- Contraintes pour les tables exportées
--

--
-- Contraintes pour la table `ADRESSE`
--
ALTER TABLE `ADRESSE`
  ADD CONSTRAINT `FK_ADRESSE_ID_VILLE` FOREIGN KEY (`ID_VILLE`) REFERENCES `VILLE` (`ID`);

--
-- Contraintes pour la table `BORNE`
--
ALTER TABLE `BORNE`
  ADD CONSTRAINT `FK_BORNE_ID_SITE` FOREIGN KEY (`ID_SITE`) REFERENCES `SITE` (`ID`);

--
-- Contraintes pour la table `CLIENT`
--
ALTER TABLE `CLIENT`
  ADD CONSTRAINT `FK_CLIENT_ID_GSBDD` FOREIGN KEY (`ID_GSBDD`) REFERENCES `GSBDD` (`ID`);

--
-- Contraintes pour la table `EMPRUNT_IMMEDIAT`
--
ALTER TABLE `EMPRUNT_IMMEDIAT`
  ADD CONSTRAINT `FK_EMPRUNT_IMMEDIAT_ID_CLIENT` FOREIGN KEY (`ID_CLIENT`) REFERENCES `CLIENT` (`ID`),
  ADD CONSTRAINT `FK_EMPRUNT_IMMEDIAT_ID_TRAJET` FOREIGN KEY (`ID_TRAJET`) REFERENCES `TRAJET` (`ID`),
  ADD CONSTRAINT `FK_EMPRUNT_IMMEDIAT_ID_VEHICULE` FOREIGN KEY (`ID_VEHICULE`) REFERENCES `VEHICULE` (`ID`);

--
-- Contraintes pour la table `EMPRUNT_RESERVATION`
--
ALTER TABLE `EMPRUNT_RESERVATION`
  ADD CONSTRAINT `FK_EMPRUNT_RESERVATION_ID_RESERVATION` FOREIGN KEY (`ID_RESERVATION`) REFERENCES `RESERVATION` (`ID`),
  ADD CONSTRAINT `FK_EMPRUNT_RESERVATION_ID_VEHICULE` FOREIGN KEY (`ID_VEHICULE`) REFERENCES `VEHICULE` (`ID`);

--
-- Contraintes pour la table `ENTRETIEN`
--
ALTER TABLE `ENTRETIEN`
  ADD CONSTRAINT `FK_ENTRETIEN_ID_VEHICULE` FOREIGN KEY (`ID_VEHICULE`) REFERENCES `VEHICULE` (`ID`);

--
-- Contraintes pour la table `ENTRETIEN_MAINTENANCE`
--
ALTER TABLE `ENTRETIEN_MAINTENANCE`
  ADD CONSTRAINT `FK_ENTRETIEN_MAINTENANCE_Entretien_ID` FOREIGN KEY (`Entretien_ID`) REFERENCES `ENTRETIEN` (`ID`),
  ADD CONSTRAINT `FK_ENTRETIEN_MAINTENANCE_listeMaintenance_ID` FOREIGN KEY (`listeMaintenance_ID`) REFERENCES `MAINTENANCE` (`ID`);

--
-- Contraintes pour la table `INCIDENT`
--
ALTER TABLE `INCIDENT`
  ADD CONSTRAINT `FK_INCIDENT_ID_CLIENT` FOREIGN KEY (`ID_CLIENT`) REFERENCES `CLIENT` (`ID`),
  ADD CONSTRAINT `FK_INCIDENT_ID_VEHICULE` FOREIGN KEY (`ID_VEHICULE`) REFERENCES `VEHICULE` (`ID`);

--
-- Contraintes pour la table `MODELE`
--
ALTER TABLE `MODELE`
  ADD CONSTRAINT `FK_MODELE_ID_MARQUE` FOREIGN KEY (`ID_MARQUE`) REFERENCES `MARQUE` (`ID`),
  ADD CONSTRAINT `FK_MODELE_ID_TYPE_VEHICULE` FOREIGN KEY (`ID_TYPE_VEHICULE`) REFERENCES `TYPE_VEHICULE` (`ID`);

--
-- Contraintes pour la table `RESERVATION`
--
ALTER TABLE `RESERVATION`
  ADD CONSTRAINT `FK_RESERVATION_ID_CONDUCTEUR` FOREIGN KEY (`ID_CONDUCTEUR`) REFERENCES `CLIENT` (`ID`),
  ADD CONSTRAINT `FK_RESERVATION_ID_DEMANDEUR` FOREIGN KEY (`ID_DEMANDEUR`) REFERENCES `CLIENT` (`ID`),
  ADD CONSTRAINT `FK_RESERVATION_ID_EMPRUNT_RESERVATION` FOREIGN KEY (`ID_EMPRUNT_RESERVATION`) REFERENCES `EMPRUNT_RESERVATION` (`ID`),
  ADD CONSTRAINT `FK_RESERVATION_ID_TRAJET` FOREIGN KEY (`ID_TRAJET`) REFERENCES `TRAJET` (`ID`),
  ADD CONSTRAINT `FK_RESERVATION_ID_TYPE_VEHICULE` FOREIGN KEY (`ID_TYPE_VEHICULE`) REFERENCES `TYPE_VEHICULE` (`ID`);

--
-- Contraintes pour la table `ROLE_PERMISSION`
--
ALTER TABLE `ROLE_PERMISSION`
  ADD CONSTRAINT `FK_ROLE_PERMISSION_PERMISSION_ID` FOREIGN KEY (`PERMISSION_ID`) REFERENCES `PERMISSION` (`ID`),
  ADD CONSTRAINT `FK_ROLE_PERMISSION_ROLE_ID` FOREIGN KEY (`ROLE_ID`) REFERENCES `ROLE` (`ID`);

--
-- Contraintes pour la table `SITE`
--
ALTER TABLE `SITE`
  ADD CONSTRAINT `FK_SITE_ID_ADRESSE` FOREIGN KEY (`ID_ADRESSE`) REFERENCES `ADRESSE` (`ID`),
  ADD CONSTRAINT `FK_SITE_ID_GSBDD` FOREIGN KEY (`ID_GSBDD`) REFERENCES `GSBDD` (`ID`);

--
-- Contraintes pour la table `TRAJET`
--
ALTER TABLE `TRAJET`
  ADD CONSTRAINT `FK_TRAJET_ID_BORNE_ARRIVEE` FOREIGN KEY (`ID_BORNE_ARRIVEE`) REFERENCES `BORNE` (`ID`),
  ADD CONSTRAINT `FK_TRAJET_ID_BORNE_DEPART` FOREIGN KEY (`ID_BORNE_DEPART`) REFERENCES `BORNE` (`ID`);

--
-- Contraintes pour la table `UTILISATEUR_ROLE`
--
ALTER TABLE `UTILISATEUR_ROLE`
  ADD CONSTRAINT `FK_UTILISATEUR_ROLE_ROLE_ID` FOREIGN KEY (`ROLE_ID`) REFERENCES `ROLE` (`ID`),
  ADD CONSTRAINT `FK_UTILISATEUR_ROLE_UTILISATEUR_ID` FOREIGN KEY (`UTILISATEUR_ID`) REFERENCES `UTILISATEUR` (`ID`);

--
-- Contraintes pour la table `VEHICULE`
--
ALTER TABLE `VEHICULE`
  ADD CONSTRAINT `FK_VEHICULE_ID_BORNE` FOREIGN KEY (`ID_BORNE`) REFERENCES `BORNE` (`ID`),
  ADD CONSTRAINT `FK_VEHICULE_ID_MODELE` FOREIGN KEY (`ID_MODELE`) REFERENCES `MODELE` (`ID`);

--
-- Contenu de la table `MAINTENANCE`
--
INSERT INTO `MAINTENANCE` (`ID`, `LIBELLE_MAINTENANCE`) VALUES
('932JjlZREeeQewAApgBq0w', 'Vidange'),
('ChZfkFLcEeexFAAAsvkz1Q', 'Pneu'),
('CIClwlZSEeeQewAApgBq0w', 'Pare-choc'),
('EANQrFLcEeexFAAAsvkz1Q', 'Frein'),
('GbpQaFZSEeeQewAApgBq0w', 'Phare'),
('K7V5blZSEeeQewAApgBq0w', 'Bloc moteur'),
('KfjR6FZSEeeQewAApgBq0w', 'Courroie distribution');
