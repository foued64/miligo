<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/WEB-INF/templates/template-standard-utilisateur.xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:cps="http://java.sun.com/jsf/composite/composites">
	
<ui:include src="/WEB-INF/templates/fragments/fragment-infouser-deconnect.xhtml" />

    <ui:include src="/WEB-INF/templates/fragments/fragment-infouser-deconnect.xhtml" />

	<ui:define name="content">
	<ui:include src="/WEB-INF/templates/fragments/fragment-infouser-deconnect.xhtml" />
			
			
			
			<h:form>
				<f:metadata>
				  <f:event type="preRenderView" listener="#{emprunterBean.keepInFlashScope()}"/>
				</f:metadata>
			
				<p:messages id="messages" showIcon="false" showDetail="false" autoUpdate="true" closable="false"/>
				<p:panel header="Emprunt d'un véhicule">
					<p:panelGrid id="optionsTrajet" columns="2" style="margin-bottom:10px;" styleClass="ui-panelgrid-blank">
						<h:outputLabel value="Vous êtes à : "/>
						<h:outputText value="#{emprunterBean.borneAller.site.nom}"/>
			
						<p:outputLabel for="borneA" value="Choisir un point d'arrivée :" />
						<p:autoComplete id="borneA" required="true" requiredMessage="Vous devez sélectionner une borne d'arrivée" dropdown="true" converter="#{genericConverter}" value="#{emprunterBean.borneRetour}" var="b" itemLabel="#{b.site.nom}" itemValue="#{b}" completeMethod="#{emprunterBean.autoCompleteBorne}" />
						
						<p:outputLabel for="duree" value="Durée du trajet : " />
	                    <p:calendar id="duree" value="#{emprunterBean.tempsEmprunt}" pattern="HH:mm" timeOnly="true" mask="99:99" maxHour="7" maxMinute="45"  stepMinute="15" required="true" requiredMessage="Veuillez saisir une durée de trajet"/>						
					</p:panelGrid>
				</p:panel>
				
				
				<div id="validation">
					<p:commandButton actionListener="#{emprunterBean.validerTrajet()}" action="choix-vehicule-vevae.xhtml?faces-redirect=true" value="Emprunter"/>									
					<p:button value="Retour à l'accueil" outcome="accueil-utilisateur.xhtml" />														
				</div>
				
			</h:form>
		
		
	</ui:define>
	
</ui:composition>